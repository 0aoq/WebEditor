<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" data-name="/vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.css">
    <link rel="stylesheet" href="theme.css">

    <title>Untitled - Monaco Test</title>

    <!-- monaco editor -->
    <script>
        var require = {
            paths: {
                vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs'
            }
        };
    </script>


    <!-- https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/ # cdn for github pages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/loader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.nls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/basic-languages/typescript/typescript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/basic-languages/lua/lua.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/basic-languages/html/html.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/basic-languages/markdown/markdown.js"></script>

    <!-- app -->
    <script src="editor/root.js"></script>
    <script src="editor/actions.js" type="module"></script>
    <script src="editor/content/files.js" type="module"></script>
    <script src="../node_modules/emmet-monaco-es/dist/emmet-monaco.min.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>

    <!-- misc -->
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <!-- Context Menu -->
    <div class="context-menu onhover shadow">
        <ul class="menu-options"></ul>
    </div>

    <!-- App -->
    <div id="titlebar">
        <span class="title1" style="margin-left: 0.95em;">Monaco Test</span>
        <span class="space1">•</span>
        <span id="currentFile">Untitled</span>
        <span class="space1">•</span>
        <a href="https://github.com/0aoq/ubiquitous-engine" target="__blank">Github</a>
        <a href="https://github.com/0aoq/ubiquitous-engine/issues/new" target="__blank">Issue</a>
        <a data-file="settings.json">Settings</a>
        <a data-editor-action="toggleExplorer">Explorer</a>
    </div>

    <div style="display: flex;">
        <ul id="explorer">
            <details>
                <summary>
                    <li class="explorer-outside-item">
                        <ion-icon name="folder"></ion-icon>
                        <span class="title1">Monaco</span>
                    </li>
                </summary>

                <li class="explorer-outside-item">
                    <!-- Files -->
                    <details>
                        <summary>
                            <li class="explorer-outside-item" style="display: flex; padding-left: 25px;">
                                <ion-icon name="folder"></ion-icon>
                                <span>Files</span>
                            </li>
                        </summary>

                        <div id="fileList"></div>

                        <div style="border-bottom: 1px solid rgba(185, 185, 185, 0.192);"></div>

                    </details>
                </li>
            </details>
        </ul>

        <div id="editor" aria-label="Main code editor (Monaco)"></div>
        <div id="preview" aria-label="HTML5 Previewer">
            <iframe frameborder="0" style="height: 100%; width: 100%;" id="preview-iframe" aria-label="Blob renderer for HTML5 preview"></iframe>
        </div>

        <div id="terminal"><iframe src="https://0aoq.github.io/Console"></iframe></div>
    </div>

    <script src="./editor/editor.js"></script>
    <script>
        // data.editor-action
        document.querySelectorAll("a").forEach((element) => {
            if (element.getAttribute("data-editor-action")) {
                const attribute = element.getAttribute("data-editor-action")

                element.addEventListener('click', () => {
                    if (attribute === "toggleExplorer") {

                    }
                })
            }
        })
    </script>

    <script src="./editor/content/context.js"></script>
</body>

</html>